<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdigidocpp: digidoc::Container Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ID.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libdigidocpp
   &#160;<span id="projectnumber">3.14.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classdigidoc_1_1Container.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classdigidoc_1_1Container-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">digidoc::Container Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Offers functionality for handling data files and signatures in a container.  
 <a href="classdigidoc_1_1Container.html#details">More...</a></p>

<p><code>#include &lt;Container.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae9f5d07bfc3defda274aa06091c19f56"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#ae9f5d07bfc3defda274aa06091c19f56">~Container</a> ()</td></tr>
<tr class="separator:ae9f5d07bfc3defda274aa06091c19f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ea778c845480142353dd47aa0dbd61"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#ab5ea778c845480142353dd47aa0dbd61">save</a> (const std::string &amp;path=&quot;&quot;)=0</td></tr>
<tr class="separator:ab5ea778c845480142353dd47aa0dbd61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc4ab4ee3df6264f80fce9cbdeefe053"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#adc4ab4ee3df6264f80fce9cbdeefe053">mediaType</a> () const =0</td></tr>
<tr class="separator:adc4ab4ee3df6264f80fce9cbdeefe053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d48d9d10e34a8dbd4b987d510b8258c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a0d48d9d10e34a8dbd4b987d510b8258c">addDataFile</a> (const std::string &amp;path, const std::string &amp;<a class="el" href="classdigidoc_1_1Container.html#adc4ab4ee3df6264f80fce9cbdeefe053">mediaType</a>)=0</td></tr>
<tr class="separator:a0d48d9d10e34a8dbd4b987d510b8258c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb91973f86ec7da474817f8005c7fdda"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#aeb91973f86ec7da474817f8005c7fdda">addDataFile</a> (std::istream *is, const std::string &amp;fileName, const std::string &amp;<a class="el" href="classdigidoc_1_1Container.html#adc4ab4ee3df6264f80fce9cbdeefe053">mediaType</a>)=0</td></tr>
<tr class="separator:aeb91973f86ec7da474817f8005c7fdda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43aab553405e4ebd2a33c13e8a372981"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="classdigidoc_1_1DataFile.html">DataFile</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a43aab553405e4ebd2a33c13e8a372981">dataFiles</a> () const =0</td></tr>
<tr class="separator:a43aab553405e4ebd2a33c13e8a372981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e4d73c8c9988c79b74e90d2d2315777"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a3e4d73c8c9988c79b74e90d2d2315777">removeDataFile</a> (unsigned int index)=0</td></tr>
<tr class="separator:a3e4d73c8c9988c79b74e90d2d2315777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5c876f689e13ae055365a19da074484"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#aa5c876f689e13ae055365a19da074484">addAdESSignature</a> (const std::vector&lt; unsigned char &gt; &amp;signature)</td></tr>
<tr class="separator:aa5c876f689e13ae055365a19da074484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3778d560687e5428d8b49f45534fd4a2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a3778d560687e5428d8b49f45534fd4a2">addAdESSignature</a> (std::istream &amp;signature)=0</td></tr>
<tr class="separator:a3778d560687e5428d8b49f45534fd4a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ff52e6d44803328bc437ce5afcc425"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classdigidoc_1_1Signature.html">Signature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#ae4ff52e6d44803328bc437ce5afcc425">prepareSignature</a> (<a class="el" href="classdigidoc_1_1Signer.html">Signer</a> *signer)=0</td></tr>
<tr class="separator:ae4ff52e6d44803328bc437ce5afcc425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b31e14a4d2ce6a14f72c8eabd45c535"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="classdigidoc_1_1Signature.html">Signature</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a3b31e14a4d2ce6a14f72c8eabd45c535">signatures</a> () const =0</td></tr>
<tr class="separator:a3b31e14a4d2ce6a14f72c8eabd45c535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd0624f347e42029aa9f07da2eaf9293"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#acd0624f347e42029aa9f07da2eaf9293">removeSignature</a> (unsigned int index)=0</td></tr>
<tr class="separator:acd0624f347e42029aa9f07da2eaf9293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9dfca6c05ee6aeb0461dcb6894b5a8c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classdigidoc_1_1Signature.html">Signature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#af9dfca6c05ee6aeb0461dcb6894b5a8c">sign</a> (<a class="el" href="classdigidoc_1_1Signer.html">Signer</a> *signer)=0</td></tr>
<tr class="separator:af9dfca6c05ee6aeb0461dcb6894b5a8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af52819cb6bb683057599b5b537e2f9d6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classdigidoc_1_1Container.html">Container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#af52819cb6bb683057599b5b537e2f9d6">create</a> (const std::string &amp;path)</td></tr>
<tr class="separator:af52819cb6bb683057599b5b537e2f9d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30efc4cd037d1bbb49fae579ff28e48b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classdigidoc_1_1Container.html">Container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a30efc4cd037d1bbb49fae579ff28e48b">open</a> (const std::string &amp;path)</td></tr>
<tr class="separator:a30efc4cd037d1bbb49fae579ff28e48b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59aefb3edb9f36f0b1e599a1d2951e00"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a59aefb3edb9f36f0b1e599a1d2951e00"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a59aefb3edb9f36f0b1e599a1d2951e00">addContainerImplementation</a> ()</td></tr>
<tr class="separator:a59aefb3edb9f36f0b1e599a1d2951e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1b0c5515d6863c1bc98cc93b65952f42"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a1b0c5515d6863c1bc98cc93b65952f42">Container</a> ()</td></tr>
<tr class="separator:a1b0c5515d6863c1bc98cc93b65952f42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c36c85e85ed9c8cccf00ca4795630ce"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdigidoc_1_1Container.html#a7c36c85e85ed9c8cccf00ca4795630ce">newSignatureId</a> () const</td></tr>
<tr class="separator:a7c36c85e85ed9c8cccf00ca4795630ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Offers functionality for handling data files and signatures in a container. </p>
<p><a class="el" href="classdigidoc_1_1Container.html" title="Offers functionality for handling data files and signatures in a container.">Container</a> can contain several files and all these files can be signed using signing certificates. <a class="el" href="classdigidoc_1_1Container.html" title="Offers functionality for handling data files and signatures in a container.">Container</a> can only be signed if it contains data files. data files can be added and removed from container only if the container is not signed. To add or remove data files from signed container remove all the signatures before modifying data files list in container. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae9f5d07bfc3defda274aa06091c19f56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f5d07bfc3defda274aa06091c19f56">&#9670;&nbsp;</a></span>~Container()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Container::~Container </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Releases resources. </p>

</div>
</div>
<a id="a1b0c5515d6863c1bc98cc93b65952f42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b0c5515d6863c1bc98cc93b65952f42">&#9670;&nbsp;</a></span>Container()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Container::Container </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new container object and specify the DigiDoc container type </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa5c876f689e13ae055365a19da074484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5c876f689e13ae055365a19da074484">&#9670;&nbsp;</a></span>addAdESSignature() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Container::addAdESSignature </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; unsigned char &gt; &amp;&#160;</td>
          <td class="paramname"><em>signature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds signature to the container.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>signature, which is added to the container. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation.">Exception</a></td><td>throws exception if there are no data files in container. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3778d560687e5428d8b49f45534fd4a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3778d560687e5428d8b49f45534fd4a2">&#9670;&nbsp;</a></span>addAdESSignature() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">digidoc::Container::addAdESSignature </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>signature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds signature to the container.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>signature, which is added to the container. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation.">Exception</a></td><td>throws exception if there are no data files in container. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59aefb3edb9f36f0b1e599a1d2951e00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59aefb3edb9f36f0b1e599a1d2951e00">&#9670;&nbsp;</a></span>addContainerImplementation()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Container::addContainerImplementation</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds container implementation</p>
<p>It must contain static members:</p><ul>
<li>static Container* createInternal(const std::string &amp;path);</li>
<li>static Container* openInternal(const std::string &amp;path);</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdigidoc_1_1Container.html#af52819cb6bb683057599b5b537e2f9d6">Container::create</a>, <a class="el" href="classdigidoc_1_1Container.html#a30efc4cd037d1bbb49fae579ff28e48b">Container::open</a> </dd></dl>

</div>
</div>
<a id="a0d48d9d10e34a8dbd4b987d510b8258c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d48d9d10e34a8dbd4b987d510b8258c">&#9670;&nbsp;</a></span>addDataFile() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">digidoc::Container::addDataFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mediaType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds data file from file system to the container.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>a data file, which is added to the container. </td></tr>
    <tr><td class="paramname">mediaType</td><td>MIME type of the data file, for example “text/plain” or “application/msword” </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation.">Exception</a></td><td>exception is thrown if the data file path is incorrect or a data file with same file name already exists. Also, no data file can be added if the container already has one or more signatures. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Data files can be removed from container only after all signatures are removed. </dd></dl>

</div>
</div>
<a id="aeb91973f86ec7da474817f8005c7fdda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb91973f86ec7da474817f8005c7fdda">&#9670;&nbsp;</a></span>addDataFile() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">digidoc::Container::addDataFile </td>
          <td>(</td>
          <td class="paramtype">std::istream *&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mediaType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds the data from an input stream (i.e. the data file contents can be read from internal memory buffer).</p>
<p>Takes ownership std::istream *is object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is</td><td>input stream from where data is read </td></tr>
    <tr><td class="paramname">fileName</td><td>data file name in the container </td></tr>
    <tr><td class="paramname">mediaType</td><td>MIME type of the data file, for example “text/plain” or “application/msword” </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation.">Exception</a></td><td>exception is thrown if the data file path is incorrect or a data file with same file name already exists. Also, no data file can be added if the container already has one or more signatures. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Data files can be removed from container only after all signatures are removed. </dd></dl>

</div>
</div>
<a id="af52819cb6bb683057599b5b537e2f9d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af52819cb6bb683057599b5b537e2f9d6">&#9670;&nbsp;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdigidoc_1_1Container.html">Container</a> * Container::create </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new container object and specify the DigiDoc container type</p>
<p>This method gives ownership of object to caller </p>

</div>
</div>
<a id="a43aab553405e4ebd2a33c13e8a372981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43aab553405e4ebd2a33c13e8a372981">&#9670;&nbsp;</a></span>dataFiles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">digidoc::Container::dataFiles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>List of all the data files in the container</p>
<p><a class="el" href="classdigidoc_1_1Container.html" title="Offers functionality for handling data files and signatures in a container.">Container</a> holds ownership of data files objects </p>

</div>
</div>
<a id="adc4ab4ee3df6264f80fce9cbdeefe053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc4ab4ee3df6264f80fce9cbdeefe053">&#9670;&nbsp;</a></span>mediaType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">digidoc::Container::mediaType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns current data file format </p>

</div>
</div>
<a id="a7c36c85e85ed9c8cccf00ca4795630ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c36c85e85ed9c8cccf00ca4795630ce">&#9670;&nbsp;</a></span>newSignatureId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Container::newSignatureId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns unique signature id </p>

</div>
</div>
<a id="a30efc4cd037d1bbb49fae579ff28e48b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30efc4cd037d1bbb49fae579ff28e48b">&#9670;&nbsp;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdigidoc_1_1Container.html">Container</a> * Container::open </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Opens container from a file</p>
<p>This method gives ownership of object to caller</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation.">Exception</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae4ff52e6d44803328bc437ce5afcc425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4ff52e6d44803328bc437ce5afcc425">&#9670;&nbsp;</a></span>prepareSignature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">digidoc::Container::prepareSignature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdigidoc_1_1Signer.html">Signer</a> *&#160;</td>
          <td class="paramname"><em>signer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prepares <a class="el" href="classdigidoc_1_1Signature.html" title="Signature interface. Provides interface for handling a signature and the corresponding OCSP response ...">Signature</a> object that can later signed.</p>
<p><a class="el" href="classdigidoc_1_1Container.html" title="Offers functionality for handling data files and signatures in a container.">Container</a> holds ownership of <a class="el" href="classdigidoc_1_1Signature.html" title="Signature interface. Provides interface for handling a signature and the corresponding OCSP response ...">Signature</a> object</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdigidoc_1_1Signature.html#ae2319a1fcb9d2f9c8dc8411e90d54bd3">digidoc::Signature::dataToSign</a> </dd>
<dd>
<a class="el" href="classdigidoc_1_1Signature.html#a40e8a2b40d72195265f52900b4d8f52d">digidoc::Signature::setSignatureValue</a> </dd>
<dd>
<a class="el" href="classdigidoc_1_1Signature.html#ac5b39c269968721b7bdee7edd2cb0c18">digidoc::Signature::extendSignatureProfile</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signer</td><td>signer implementation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation.">Exception</a></td><td>exception is thrown if signing the container failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3e4d73c8c9988c79b74e90d2d2315777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e4d73c8c9988c79b74e90d2d2315777">&#9670;&nbsp;</a></span>removeDataFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">digidoc::Container::removeDataFile </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Removes data file from container by data file index. Data files can be removed from container only after all signatures are removed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>data file's index, which will be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation.">Exception</a></td><td>throws exception if the data file id is incorrect or there are one or more signatures. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdigidoc_1_1Container.html#a43aab553405e4ebd2a33c13e8a372981">digidoc::Container::dataFiles</a> </dd></dl>

</div>
</div>
<a id="acd0624f347e42029aa9f07da2eaf9293"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd0624f347e42029aa9f07da2eaf9293">&#9670;&nbsp;</a></span>removeSignature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">digidoc::Container::removeSignature </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Removes signature from container by signature index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>signature's index, which will be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation.">Exception</a></td><td>throws exception if the signature id is incorrect. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdigidoc_1_1Container.html#a3b31e14a4d2ce6a14f72c8eabd45c535">digidoc::Container::signatures</a> </dd></dl>

</div>
</div>
<a id="ab5ea778c845480142353dd47aa0dbd61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5ea778c845480142353dd47aa0dbd61">&#9670;&nbsp;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">digidoc::Container::save </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em> = <code>&quot;&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Saves the container.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation.">Exception</a></td><td>is thrown if there was a failure saving container. For example added data file does not exist. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af9dfca6c05ee6aeb0461dcb6894b5a8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9dfca6c05ee6aeb0461dcb6894b5a8c">&#9670;&nbsp;</a></span>sign()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">digidoc::Container::sign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdigidoc_1_1Signer.html">Signer</a> *&#160;</td>
          <td class="paramname"><em>signer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Signs all data files in container.</p>
<p>This method does not take ownership of signer object. <a class="el" href="classdigidoc_1_1Container.html" title="Offers functionality for handling data files and signatures in a container.">Container</a> holds ownership of <a class="el" href="classdigidoc_1_1Signature.html" title="Signature interface. Provides interface for handling a signature and the corresponding OCSP response ...">Signature</a> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signer</td><td>signer implementation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classdigidoc_1_1Exception.html" title="Base exception class of the digidoc implementation.">Exception</a></td><td>exception is thrown if signing the container failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3b31e14a4d2ce6a14f72c8eabd45c535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b31e14a4d2ce6a14f72c8eabd45c535">&#9670;&nbsp;</a></span>signatures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">digidoc::Container::signatures </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns list of all container's signatures.</p>
<p><a class="el" href="classdigidoc_1_1Container.html" title="Offers functionality for handling data files and signatures in a container.">Container</a> holds ownership of signature objects </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Container.h</li>
<li>Container.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedigidoc.html">digidoc</a></li><li class="navelem"><a class="el" href="classdigidoc_1_1Container.html">Container</a></li>
    <li class="footer">Generated on Thu Feb 13 2020 10:42:33 for libdigidocpp by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
